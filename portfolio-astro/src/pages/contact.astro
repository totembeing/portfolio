---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Contact">
	<section class="w-full max-w-2xl space-y-6" id="contact">
		<p class="text-sm tracking-[0.12em] text-neutral-400 uppercase">Contact</p>
		<h1 class="text-3xl lg:text-4xl font-bold text-white">Get in touch</h1>
		<p class="text-lg text-neutral-300">
			A response will be provided after your message has been reviewed.  
		</p>

		<form id="contact-form" class="space-y-4 bg-white/5 border border-white/10 rounded-2xl p-6">
			<div class="space-y-2">
				<label class="block text-sm text-neutral-300" for="name">Your name</label>
				<input
					required
					type="text"
					name="name"
					id="name"
					class="w-full rounded-lg bg-black border border-white/15 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/40"
					placeholder="Enter your name"
				/>
			</div>

			<div class="space-y-2">
				<label class="block text-sm text-neutral-300" for="subject">Subject</label>
				<input
					required
					type="text"
					name="subject"
					id="subject"
					class="w-full rounded-lg bg-black border border-white/15 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/40"
					placeholder="What's this about?"
				/>
			</div>

			<div class="space-y-2">
				<label class="block text-sm text-neutral-300" for="message">Message</label>
				<textarea
					required
					name="message"
					id="message"
					rows="5"
					class="w-full rounded-lg bg-black border border-white/15 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-white/40"
					placeholder="Write your message"
				></textarea>
			</div>

			<button
				type="submit"
				class="inline-flex items-center justify-center rounded-lg bg-white text-black px-4 py-2 font-semibold hover:bg-white/90 transition"
			>
				Send mail
			</button>
		</form>
	</section>

	<script>
		const form = document.getElementById('contact-form');
		if (form) {
			form.addEventListener('submit', (event) => {
				event.preventDefault();
				const data = new FormData(form);
				const name = (data.get('name') || '').toString();
				const subject = (data.get('subject') || '').toString();
				const message = (data.get('message') || '').toString();

				const mailto = `mailto:vaibhavnarula2005@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(`Hi Vaibhav,\n\n${message}\n\nFrom: ${name}`)}`;
				window.location.href = mailto;
			});
		}
	</script>
</Layout>
